{"ast":null,"code":"import { Router } from '@angular/router';\nimport { AuthService } from '../../../../services/auth.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction BasicRegComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Veuillez entrer votre nom. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Veuillez entrer votre pr\\u00E9nom. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Veuillez entrer une adresse mail valide. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Adresse email d\\u00E9j\\u00E0 utilis\\u00E9e. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Veuillez entrer votre contact. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Veuillez entrer un mot de passe valide. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1, \" Les mots de passes ne correspondent pas. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_button_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵtext(1, \"S'inscrire\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BasicRegComponent_button_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 35);\n    i0.ɵɵtext(1, \"Veuillez patienter ...\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a1) {\n  return {\n    \"form-control\": true,\n    \"is-invalid\": a1\n  };\n};\nexport class BasicRegComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.loading = false;\n    this.lastNameReq = false;\n    this.firstNameReq = false;\n    this.emailReq = false;\n    this.contactReq = false;\n    this.passwordReq = false;\n    this.passwordMatch = false;\n    this.emailTaken = false;\n  }\n  ngOnInit() {\n    document.querySelector('body').setAttribute('themebg-pattern', 'theme1');\n  }\n  onSubmit(form) {\n    this.loading = true;\n    this.lastNameReq = false;\n    this.firstNameReq = false;\n    this.emailReq = false;\n    this.contactReq = false;\n    this.passwordReq = false;\n    this.passwordMatch = false;\n    if (form.valid) {\n      if (form.value.password === form.value.confirmPassword) {\n        delete form.value.confirmPassword;\n        this.authService.register(form.value, res => {\n          this.loading = false;\n          if (res.message) this.emailTaken = true;else {\n            this.router.navigateByUrl('/');\n          }\n        });\n      } else {\n        this.passwordMatch = true;\n      }\n    } else {\n      if (form.value.lastName === '') this.lastNameReq = true;\n      if (form.value.firstName === '') this.firstNameReq = true;\n      if (form.value.email === '') this.emailReq = true;\n      if (form.value.contact === '') this.contactReq = true;\n      if (form.value.password === '') this.passwordReq = true;\n      if (form.value.confirmPassword === '') this.passwordMatch = true;\n    }\n  }\n}\nBasicRegComponent.ɵfac = function BasicRegComponent_Factory(t) {\n  return new (t || BasicRegComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nBasicRegComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BasicRegComponent,\n  selectors: [[\"app-basic-reg\"]],\n  decls: 57,\n  vars: 27,\n  consts: [[1, \"login\", \"p-fixed\", \"d-flex\", \"text-center\", \"bg-primary\", \"common-img-bg\"], [1, \"auth-fluid\"], [1, \"row\"], [1, \"col-sm-12\"], [1, \"login-card\", \"card-body\", \"auth-body\"], [1, \"md-float-material\", 3, \"ngSubmit\"], [\"register\", \"ngForm\"], [1, \"text-center\"], [\"src\", \"assets/images/auth/logo-dark.png\", \"alt\", \"Guru Able\"], [1, \"auth-box\"], [1, \"row\", \"m-b-20\"], [1, \"col-md-12\"], [1, \"text-center\", \"txt-primary\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Nom\", \"name\", \"lastName\", \"ngModel\", \"\", \"required\", \"\", 3, \"ngClass\"], [\"lastName\", \"ngModel\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [1, \"md-line\"], [\"type\", \"text\", \"placeholder\", \"Pr\\u00E9nom(s)\", \"name\", \"firstName\", \"ngModel\", \"\", \"required\", \"\", 3, \"ngClass\"], [\"firstName\", \"ngModel\"], [\"type\", \"email\", \"placeholder\", \"Adresse Email\", \"name\", \"email\", \"ngModel\", \"\", \"required\", \"\", \"pattern\", \"[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]{2,4}$\", 3, \"ngClass\"], [\"email\", \"ngModel\"], [\"type\", \"text\", \"placeholder\", \"Contact\", \"name\", \"contact\", \"ngModel\", \"\", \"required\", \"\", 3, \"ngClass\"], [\"contact\", \"ngModel\"], [\"type\", \"password\", \"placeholder\", \"Mot de passe\", \"name\", \"password\", \"ngModel\", \"\", \"required\", \"\", 3, \"ngClass\"], [\"password\", \"ngModel\"], [\"type\", \"password\", \"placeholder\", \"Confirmer le mot de passe\", \"name\", \"confirmPassword\", \"ngModel\", \"\", \"required\", \"\", 3, \"ngClass\"], [\"confirmPassword\", \"ngModel\"], [1, \"row\", \"m-t-30\"], [\"type\", \"submit\", \"class\", \"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\", 4, \"ngIf\"], [\"class\", \"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\", \"disabled\", \"\", 4, \"ngIf\"], [1, \"text-inverse\", \"text-left\", \"m-b-0\"], [\"routerLink\", \"/authentication/login\"], [1, \"invalid-feedback\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-md\", \"btn-block\", \"waves-effect\", \"text-center\", \"m-b-20\"], [\"disabled\", \"\", 1, \"btn\", \"btn-primary\", \"btn-md\", \"btn-block\", \"waves-effect\", \"text-center\", \"m-b-20\"]],\n  template: function BasicRegComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r16 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function BasicRegComponent_Template_form_ngSubmit_5_listener() {\n        i0.ɵɵrestoreView(_r16);\n        const _r0 = i0.ɵɵreference(6);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵelement(8, \"img\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 9)(10, \"div\", 10)(11, \"div\", 11)(12, \"h3\", 12);\n      i0.ɵɵtext(13, \"Inscrivez-vous. C'est simple et rapide.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(14, \"hr\");\n      i0.ɵɵelementStart(15, \"div\", 13);\n      i0.ɵɵelement(16, \"input\", 14, 15);\n      i0.ɵɵtemplate(18, BasicRegComponent_div_18_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(19, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 13);\n      i0.ɵɵelement(21, \"input\", 18, 19);\n      i0.ɵɵtemplate(23, BasicRegComponent_div_23_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(24, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 13);\n      i0.ɵɵelement(26, \"input\", 20, 21);\n      i0.ɵɵtemplate(28, BasicRegComponent_div_28_Template, 2, 0, \"div\", 16);\n      i0.ɵɵtemplate(29, BasicRegComponent_div_29_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(30, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 13);\n      i0.ɵɵelement(32, \"input\", 22, 23);\n      i0.ɵɵtemplate(34, BasicRegComponent_div_34_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(35, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\", 13);\n      i0.ɵɵelement(37, \"input\", 24, 25);\n      i0.ɵɵtemplate(39, BasicRegComponent_div_39_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(40, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 13);\n      i0.ɵɵelement(42, \"input\", 26, 27);\n      i0.ɵɵtemplate(44, BasicRegComponent_div_44_Template, 2, 0, \"div\", 16);\n      i0.ɵɵelement(45, \"span\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 28)(47, \"div\", 11);\n      i0.ɵɵtemplate(48, BasicRegComponent_button_48_Template, 2, 0, \"button\", 29);\n      i0.ɵɵtemplate(49, BasicRegComponent_button_49_Template, 2, 0, \"button\", 30);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(50, \"hr\");\n      i0.ɵɵelementStart(51, \"div\", 2)(52, \"div\", 11)(53, \"p\", 31);\n      i0.ɵɵtext(54, \"Vous \\u00EAtes d\\u00E9j\\u00E0 inscrit? \");\n      i0.ɵɵelementStart(55, \"a\", 32);\n      i0.ɵɵtext(56, \"Se connecter\");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(17);\n      const _r3 = i0.ɵɵreference(22);\n      const _r5 = i0.ɵɵreference(27);\n      const _r8 = i0.ɵɵreference(33);\n      const _r10 = i0.ɵɵreference(38);\n      const _r12 = i0.ɵɵreference(43);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, _r1.touched && (_r1.errors == null ? null : _r1.errors.required) || ctx.lastNameReq));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.touched && (_r1.errors == null ? null : _r1.errors.required) || ctx.lastNameReq);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, _r3.touched && (_r3.errors == null ? null : _r3.errors.required) || ctx.firstNameReq));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.touched && (_r3.errors == null ? null : _r3.errors.required) || ctx.firstNameReq);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(19, _c0, _r5.touched && (_r5.errors == null ? null : _r5.errors.pattern) || ctx.emailReq || ctx.emailTaken));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r5.touched && (_r5.errors == null ? null : _r5.errors.pattern) || ctx.emailReq);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.emailTaken);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(21, _c0, _r8.touched && (_r8.errors == null ? null : _r8.errors.required) || ctx.contactReq));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r8.touched && (_r8.errors == null ? null : _r8.errors.required) || ctx.contactReq);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(23, _c0, _r10.touched && (_r10.errors == null ? null : _r10.errors.required) || ctx.passwordReq));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r10.touched && (_r10.errors == null ? null : _r10.errors.required) || ctx.passwordReq);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(25, _c0, _r12.touched && (_r12.errors == null ? null : _r12.errors.required) || ctx.passwordMatch));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r12.touched && (_r12.errors == null ? null : _r12.errors.required) || ctx.passwordMatch);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.PatternValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Router","AuthService","i0","BasicRegComponent","constructor","authService","router","ngOnInit","document","querySelector","setAttribute","onSubmit","form","loading","lastNameReq","firstNameReq","emailReq","contactReq","passwordReq","passwordMatch","valid","value","password","confirmPassword","register","res","message","emailTaken","navigateByUrl","lastName","firstName","email","contact","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Master\\Projet\\MEAN\\m1p10mean-hery-tahiana-front\\src\\app\\pages\\auth\\registration\\basic-reg\\basic-reg.component.ts","D:\\Master\\Projet\\MEAN\\m1p10mean-hery-tahiana-front\\src\\app\\pages\\auth\\registration\\basic-reg\\basic-reg.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../../../../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-basic-reg',\r\n  templateUrl: './basic-reg.component.html',\r\n  styleUrls: ['./basic-reg.component.scss']\r\n})\r\nexport class BasicRegComponent implements OnInit {\r\n\r\n  loading = false;\r\n  lastNameReq = false;\r\n  firstNameReq = false;\r\n  emailReq = false;\r\n  contactReq = false;\r\n  passwordReq = false;\r\n  passwordMatch = false;\r\n  emailTaken = false;\r\n\r\n  constructor(private authService: AuthService, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    document.querySelector('body').setAttribute('themebg-pattern', 'theme1');\r\n  }\r\n\r\n  onSubmit(form: NgForm) {\r\n    this.loading = true;\r\n    this.lastNameReq = false;\r\n    this.firstNameReq = false;\r\n    this.emailReq = false;\r\n    this.contactReq = false;\r\n    this.passwordReq = false;\r\n    this.passwordMatch = false;\r\n    \r\n    if(form.valid) {\r\n      if(form.value.password === form.value.confirmPassword) {\r\n        delete form.value.confirmPassword;\r\n        this.authService.register(form.value, (res) => {\r\n          this.loading = false;\r\n          if(res.message)\r\n            this.emailTaken = true;\r\n          else {\r\n            this.router.navigateByUrl('/');\r\n          }\r\n        });\r\n      } else {\r\n        this.passwordMatch = true;\r\n      }\r\n    } else {\r\n      if(form.value.lastName === '')\r\n        this.lastNameReq = true;\r\n      if(form.value.firstName === '')\r\n        this.firstNameReq = true;\r\n      if(form.value.email === '')\r\n        this.emailReq = true;\r\n      if(form.value.contact === '')\r\n        this.contactReq = true;\r\n      if(form.value.password === '')\r\n        this.passwordReq = true;\r\n      if(form.value.confirmPassword === '')\r\n        this.passwordMatch = true;\r\n    }\r\n  }\r\n\r\n}\r\n","<section class=\"login p-fixed d-flex text-center bg-primary common-img-bg\">\r\n  <!-- starts -->\r\n  <div class=\"auth-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12\">\r\n        <!-- Authentication card start -->\r\n        <div class=\"login-card card-body auth-body\">\r\n          <form class=\"md-float-material\" (ngSubmit)=\"onSubmit(register)\" #register=\"ngForm\">\r\n            <div class=\"text-center\">\r\n              <img src=\"assets/images/auth/logo-dark.png\" alt=\"Guru Able\">\r\n            </div>\r\n            <div class=\"auth-box\">\r\n              <div class=\"row m-b-20\">\r\n                <div class=\"col-md-12\">\r\n                  <h3 class=\"text-center txt-primary\">Inscrivez-vous. C'est simple et rapide.</h3>\r\n                </div>\r\n              </div>\r\n              <hr/>\r\n              <div class=\"input-group\">\r\n                <input  type=\"text\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (lastName.touched && lastName.errors?.required) || lastNameReq}\" \r\n                        placeholder=\"Nom\" \r\n                        name=\"lastName\" \r\n                        #lastName=\"ngModel\"\r\n                        ngModel required />\r\n                <div  class=\"invalid-feedback\"\r\n                      *ngIf=\"(lastName.touched && lastName.errors?.required) ||lastNameReq\">\r\n                    Veuillez entrer votre nom.\r\n                </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input  type=\"text\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (firstName.touched && firstName.errors?.required) || firstNameReq}\" \r\n                        placeholder=\"Prénom(s)\" \r\n                        name=\"firstName\" \r\n                        #firstName=\"ngModel\"\r\n                        ngModel required />\r\n                  <div  class=\"invalid-feedback\"\r\n                        *ngIf=\"(firstName.touched && firstName.errors?.required) || firstNameReq\">\r\n                    Veuillez entrer votre prénom.\r\n                  </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input  type=\"email\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (email.touched && email.errors?.pattern) || emailReq || emailTaken }\" \r\n                        placeholder=\"Adresse Email\" \r\n                        name=\"email\" \r\n                        #email=\"ngModel\" \r\n                        ngModel required\r\n                        pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" />\r\n                <div  class=\"invalid-feedback\"\r\n                      *ngIf=\"(email.touched && email.errors?.pattern) || emailReq\">\r\n                  Veuillez entrer une adresse mail valide.\r\n                </div>\r\n                <div  class=\"invalid-feedback\"\r\n                      *ngIf=\"emailTaken\">\r\n                  Adresse email déjà utilisée.\r\n                </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input  type=\"text\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (contact.touched && contact.errors?.required) || contactReq}\"  \r\n                        placeholder=\"Contact\" \r\n                        name=\"contact\" \r\n                        #contact=\"ngModel\"\r\n                        ngModel required />\r\n                        <div  class=\"invalid-feedback\"\r\n                        *ngIf=\"(contact.touched && contact.errors?.required) || contactReq\">\r\n                    Veuillez entrer votre contact.\r\n                  </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input  type=\"password\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (password.touched && password.errors?.required) || passwordReq}\" \r\n                        placeholder=\"Mot de passe\" \r\n                        name=\"password\" \r\n                        #password=\"ngModel\"\r\n                        ngModel required />\r\n                        <div  class=\"invalid-feedback\"\r\n                        *ngIf=\"(password.touched && password.errors?.required) || passwordReq\">\r\n                    Veuillez entrer un mot de passe valide.\r\n                  </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"input-group\">\r\n                <input  type=\"password\" \r\n                        [ngClass]=\"{'form-control': true, 'is-invalid': (confirmPassword.touched && confirmPassword.errors?.required) || passwordMatch }\" \r\n                        placeholder=\"Confirmer le mot de passe\" \r\n                        name=\"confirmPassword\" \r\n                        #confirmPassword=\"ngModel\"\r\n                        ngModel required />\r\n                        <div  class=\"invalid-feedback\"\r\n                        *ngIf=\"(confirmPassword.touched && confirmPassword.errors?.required) || this.passwordMatch\">\r\n                    Les mots de passes ne correspondent pas.\r\n                  </div>\r\n                <span class=\"md-line\"></span>\r\n              </div>\r\n              <div class=\"row m-t-30\">\r\n                <div class=\"col-md-12\">\r\n                  <button *ngIf=\"!loading\" type=\"submit\" class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\">S'inscrire</button>\r\n                  <button *ngIf=\"loading\" class=\"btn btn-primary btn-md btn-block waves-effect text-center m-b-20\" disabled >Veuillez patienter ...</button>\r\n                </div>\r\n              </div>\r\n              <hr/>\r\n              <div class=\"row\">\r\n                <div class=\"col-md-12\">\r\n                  <p class=\"text-inverse text-left m-b-0\">Vous êtes déjà inscrit? <a routerLink=\"/authentication/login\">Se connecter</a></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <!-- end of form -->\r\n        </div>\r\n        <!-- Authentication card end -->\r\n      </div>\r\n      <!-- end of col-sm-12 -->\r\n    </div>\r\n    <!-- end of row -->\r\n  </div>\r\n  <!-- end of -->\r\n</section>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}