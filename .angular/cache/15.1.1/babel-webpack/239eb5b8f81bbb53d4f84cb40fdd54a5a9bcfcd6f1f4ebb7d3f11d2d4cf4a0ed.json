{"ast":null,"code":"// import { ToastyService } from 'ng2-toasty';\n// import { ToastData, ToastOptions } from 'ng2-toasty/src/toasty.service';\nimport { CarService } from '../../services/car.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/car.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CarDepositComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction CarDepositComponent_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵtext(1, \"Veuillez patienter ...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CarDepositComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵtext(1, \"D\\u00E9poser\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CarDepositComponent {\n  constructor(carService) {\n    this.carService = carService;\n    this.position = 'bottom-right';\n    this.loading = false;\n    this.error = \"\";\n  }\n  onSubmit(form) {\n    const car = {\n      immatriculation: form.value.immatriculation,\n      brand: form.value.brand,\n      model: form.value.model\n    };\n    this.loading = true;\n    this.carService.deposit(car, data => {\n      if (data.message) this.error = data.message;\n      // else\n      //   this.addToast({title:'Voiture déposée', msg:'La voiture a été déposée avec succès.', showClose: true, timeout: 5000, theme:'bootstrap', type:'wait', position:'bottom-right', closeOther:true})\n      this.loading = false;\n    });\n  }\n  // addToast(options) {\n  //   if (options.closeOther) {\n  //     this.toastyService.clearAll();\n  //   }\n  //   this.position = options.position ? options.position : this.position;\n  //   const toastOptions: ToastOptions = {\n  //     title: options.title,\n  //     msg: options.msg,\n  //     showClose: options.showClose,\n  //     timeout: options.timeout,\n  //     theme: options.theme,\n  //     onAdd: (toast: ToastData) => {\n  //       /* added */\n  //     },\n  //     onRemove: (toast: ToastData) => {\n  //       /* removed */\n  //     }\n  //   };\n  //   switch (options.type) {\n  //     case 'default': this.toastyService.default(toastOptions); break;\n  //     case 'info': this.toastyService.info(toastOptions); break;\n  //     case 'success': this.toastyService.success(toastOptions); break;\n  //     case 'wait': this.toastyService.wait(toastOptions); break;\n  //     case 'error': this.toastyService.error(toastOptions); break;\n  //     case 'warning': this.toastyService.warning(toastOptions); break;\n  //   }\n  // }\n  ngOnInit() {}\n}\nCarDepositComponent.ɵfac = function CarDepositComponent_Factory(t) {\n  return new (t || CarDepositComponent)(i0.ɵɵdirectiveInject(i1.CarService));\n};\nCarDepositComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarDepositComponent,\n  selectors: [[\"app-car-deposit\"]],\n  decls: 21,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-sm-12\"], [3, \"title\"], [1, \"row\", \"g-3\", 3, \"ngSubmit\"], [\"deposit\", \"ngForm\"], [1, \"col-md-12\", \"mb-3\"], [\"for\", \"immatriculation\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"immatriculation\", \"name\", \"immatriculation\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"brand\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"brand\", \"name\", \"brand\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"model\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"model\", \"name\", \"model\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"col-12\"], [\"type\", \"submit\", \"class\", \"btn btn-primary\", \"disabled\", \"\", 4, \"ngIf\"], [\"type\", \"submit\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [1, \"col-md-12\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"type\", \"submit\", \"disabled\", \"\", 1, \"btn\", \"btn-primary\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function CarDepositComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"app-card\", 2)(3, \"form\", 3, 4);\n      i0.ɵɵlistener(\"ngSubmit\", function CarDepositComponent_Template_form_ngSubmit_3_listener() {\n        i0.ɵɵrestoreView(_r4);\n        const _r0 = i0.ɵɵreference(4);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(5, \"div\", 5)(6, \"label\", 6);\n      i0.ɵɵtext(7, \"Numero d'immatriculation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Marque\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 5)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Mod\\u00E8le\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, CarDepositComponent_div_17_Template, 3, 1, \"div\", 12);\n      i0.ɵɵelementStart(18, \"div\", 13);\n      i0.ɵɵtemplate(19, CarDepositComponent_button_19_Template, 2, 0, \"button\", 14);\n      i0.ɵɵtemplate(20, CarDepositComponent_button_20_Template, 2, 0, \"button\", 15);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"title\", \"D\\u00E9pot de voiture\");\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.error !== \"\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA;AACA;AACA,SAASA,UAAU,QAAQ,4BAA4B;;;;;;;ICyB3CC,+BAA4C;IAEpCA,YACJ;IAAAA,iBAAM;;;;IADFA,eACJ;IADIA,6CACJ;;;;;IAGFA,kCAAuE;IAAAA,sCAAsB;IAAAA,iBAAS;;;;;IACtGA,kCAA+D;IAAAA,4BAAO;IAAAA,iBAAS;;;ADzB7F,OAAM,MAAOC,mBAAmB;EAM9BC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAJ9B,aAAQ,GAAG,cAAc;IACzB,YAAO,GAAG,KAAK;IACf,UAAK,GAAG,EAAE;EAIJ;EAENC,QAAQ,CAACC,IAAY;IACnB,MAAMC,GAAG,GAAG;MACVC,eAAe,EAAEF,IAAI,CAACG,KAAK,CAACD,eAAe;MAC3CE,KAAK,EAAEJ,IAAI,CAACG,KAAK,CAACC,KAAK;MACvBC,KAAK,EAAEL,IAAI,CAACG,KAAK,CAACE;KACnB;IACD,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACR,UAAU,CAACS,OAAO,CAACN,GAAG,EAAGO,IAAI,IAAI;MACpC,IAAGA,IAAI,CAACC,OAAO,EACb,IAAI,CAACC,KAAK,GAAGF,IAAI,CAACC,OAAO;MAC3B;MACA;MACA,IAAI,CAACH,OAAO,GAAG,KAAK;IACtB,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAK,QAAQ,IACR;;;mBAxDWf,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCXhCrB,8BAAiB;MAIDA;QAAAA;QAAA;QAAA,OAAYA,gCAAiB;MAAA,EAAC;MAClCA,8BAA4B;MACsBA,wCAAwB;MAAAA,iBAAQ;MAChFA,2BAI4B;MAC9BA,iBAAM;MACNA,8BAA4B;MACYA,uBAAM;MAAAA,iBAAQ;MACpDA,4BAI4B;MAC9BA,iBAAM;MACNA,+BAA4B;MACYA,4BAAM;MAAAA,iBAAQ;MACpDA,6BAI4B;MAC9BA,iBAAM;MACNA,uEAIM;MACNA,gCAAoB;MAClBA,6EAAsG;MACtGA,6EAA+E;MACjFA,iBAAM;;;MAnCFA,eAA4B;MAA5BA,+CAA4B;MA2B1BA,gBAAkB;MAAlBA,uCAAkB;MAMbA,eAAa;MAAbA,kCAAa;MACbA,eAAc;MAAdA,mCAAc","names":["CarService","i0","CarDepositComponent","constructor","carService","onSubmit","form","car","immatriculation","value","brand","model","loading","deposit","data","message","error","ngOnInit","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Master\\Projet\\MEAN\\m1p10mean-hery-tahiana-front\\src\\app\\pages\\car-deposit\\car-deposit.component.ts","D:\\Master\\Projet\\MEAN\\m1p10mean-hery-tahiana-front\\src\\app\\pages\\car-deposit\\car-deposit.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\n// import { ToastyService } from 'ng2-toasty';\r\n// import { ToastData, ToastOptions } from 'ng2-toasty/src/toasty.service';\r\nimport { CarService } from '../../services/car.service';\r\n\r\n@Component({\r\n  selector: 'app-car-deposit',\r\n  templateUrl: './car-deposit.component.html',\r\n  styleUrls: ['./car-deposit.component.scss']\r\n})\r\nexport class CarDepositComponent implements OnInit {\r\n\r\n  position = 'bottom-right';\r\n  loading = false;\r\n  error = \"\";\r\n\r\n  constructor(private carService: CarService, \r\n    // private toastyService: ToastyService\r\n    ) { }\r\n\r\n  onSubmit(form: NgForm) {\r\n    const car = {\r\n      immatriculation: form.value.immatriculation,\r\n      brand: form.value.brand,\r\n      model: form.value.model\r\n    }\r\n    this.loading = true;\r\n    this.carService.deposit(car, (data) => {\r\n      if(data.message)\r\n        this.error = data.message;\r\n      // else\r\n      //   this.addToast({title:'Voiture déposée', msg:'La voiture a été déposée avec succès.', showClose: true, timeout: 5000, theme:'bootstrap', type:'wait', position:'bottom-right', closeOther:true})\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n  // addToast(options) {\r\n  //   if (options.closeOther) {\r\n  //     this.toastyService.clearAll();\r\n  //   }\r\n  //   this.position = options.position ? options.position : this.position;\r\n  //   const toastOptions: ToastOptions = {\r\n  //     title: options.title,\r\n  //     msg: options.msg,\r\n  //     showClose: options.showClose,\r\n  //     timeout: options.timeout,\r\n  //     theme: options.theme,\r\n  //     onAdd: (toast: ToastData) => {\r\n  //       /* added */\r\n  //     },\r\n  //     onRemove: (toast: ToastData) => {\r\n  //       /* removed */\r\n  //     }\r\n  //   };\r\n\r\n  //   switch (options.type) {\r\n  //     case 'default': this.toastyService.default(toastOptions); break;\r\n  //     case 'info': this.toastyService.info(toastOptions); break;\r\n  //     case 'success': this.toastyService.success(toastOptions); break;\r\n  //     case 'wait': this.toastyService.wait(toastOptions); break;\r\n  //     case 'error': this.toastyService.error(toastOptions); break;\r\n  //     case 'warning': this.toastyService.warning(toastOptions); break;\r\n  //   }\r\n  // }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <app-card [title]=\"'Dépot de voiture'\">\r\n        <form   class=\"row g-3\"\r\n                (ngSubmit)=\"onSubmit(deposit)\" #deposit=\"ngForm\">\r\n            <div class=\"col-md-12 mb-3\">\r\n              <label for=\"immatriculation\" class=\"form-label\">Numero d'immatriculation</label>\r\n              <input    type=\"text\" \r\n                        class=\"form-control\" \r\n                        id=\"immatriculation\"\r\n                        name=\"immatriculation\"\r\n                        ngModel required >\r\n            </div>\r\n            <div class=\"col-md-12 mb-3\">\r\n              <label for=\"brand\" class=\"form-label\">Marque</label>\r\n              <input    type=\"text\" \r\n                        class=\"form-control\" \r\n                        id=\"brand\"\r\n                        name=\"brand\"\r\n                        ngModel required >\r\n            </div>\r\n            <div class=\"col-md-12 mb-3\">\r\n              <label for=\"model\" class=\"form-label\">Modèle</label>\r\n              <input    type=\"text\" \r\n                        class=\"form-control\" \r\n                        id=\"model\"\r\n                        name=\"model\"\r\n                        ngModel required >\r\n            </div>\r\n            <div *ngIf=\"error !== ''\" class=\"col-md-12\">\r\n                <div class=\"alert alert-danger\" role=\"alert\">\r\n                    {{error}}\r\n                </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <button *ngIf=\"loading\" type=\"submit\" class=\"btn btn-primary\" disabled>Veuillez patienter ...</button>\r\n              <button *ngIf=\"!loading\" type=\"submit\" class=\"btn btn-primary\">Déposer</button>\r\n            </div>\r\n        </form>\r\n      </app-card>\r\n    </div>\r\n  </div>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}