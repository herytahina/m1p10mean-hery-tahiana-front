{"ast":null,"code":"import { HttpClient } from \"@angular/common/http\";\nimport { environment } from \"../../environments/environment\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class CarService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    this.host = environment.host;\n    this.cars = [];\n  }\n  fetch(search, callback) {\n    let path = `${this.host}/cars?user=63c993465fbe667bc3f7eaf6`;\n    if (search) path += `&search=${search}`;\n    this.httpClient.get(path).subscribe(data => {\n      this.cars = data;\n      callback(data);\n    });\n  }\n  deposit(car, callback) {\n    this.httpClient.post(`${this.host}/cars/deposit?user=63c993465fbe667bc3f7eaf6`, car).subscribe(data => {\n      callback(data);\n    }, err => {\n      callback(err.error);\n    });\n  }\n  repairs(id, callback) {\n    this.httpClient.get(`${this.host}/cars/${id}/repairs`).subscribe(data => {\n      callback(data);\n    }), err => {\n      callback(err.error);\n    };\n  }\n  history(id, callback) {\n    this.httpClient.get(`${this.host}/cars/${id}/repairs/history`).subscribe(data => {\n      callback(data);\n    }), err => {\n      callback(err.error);\n    };\n  }\n}\nCarService.ɵfac = function CarService_Factory(t) {\n  return new (t || CarService)(i0.ɵɵinject(i1.HttpClient));\n};\nCarService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CarService,\n  factory: CarService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,UAAU,QAAQ,sBAAsB;AACjD,SAASC,WAAW,QAAQ,gCAAgC;;;AAK5D,OAAM,MAAOC,UAAU;EAKnBC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAHtB,SAAI,GAAGH,WAAW,CAACI,IAAI;IAC/B,SAAI,GAAG,EAAE;EAEoC;EAE7CC,KAAK,CAACC,MAAO,EAAEC,QAAS;IACpB,IAAIC,IAAI,GAAG,GAAG,IAAI,CAACJ,IAAI,qCAAqC;IAC5D,IAAGE,MAAM,EACLE,IAAI,IAAI,WAAWF,MAAM,EAAE;IAC/B,IAAI,CAACH,UAAU,CAACM,GAAG,CAACD,IAAI,CAAC,CAACE,SAAS,CAAEC,IAAW,IAAI;MAChD,IAAI,CAACC,IAAI,GAAGD,IAAI;MAChBJ,QAAQ,CAACI,IAAI,CAAC;IAClB,CAAC,CAAC;EACN;EAEAE,OAAO,CAACC,GAAQ,EAAEP,QAAQ;IACtB,IAAI,CAACJ,UAAU,CAACY,IAAI,CAAE,GAAG,IAAI,CAACX,IAAI,6CAA6C,EAAEU,GAAG,CAAC,CAACJ,SAAS,CAAEC,IAAI,IAAI;MACrGJ,QAAQ,CAACI,IAAI,CAAC;IAClB,CAAC,EAAGK,GAAG,IAAI;MACPT,QAAQ,CAACS,GAAG,CAACC,KAAK,CAAC;IACvB,CAAC,CAAC;EACN;EAEAC,OAAO,CAACC,EAAE,EAAEZ,QAAQ;IAChB,IAAI,CAACJ,UAAU,CAACM,GAAG,CAAC,GAAG,IAAI,CAACL,IAAI,SAASe,EAAE,UAAU,CAAC,CAACT,SAAS,CAAEC,IAAI,IAAI;MACtEJ,QAAQ,CAACI,IAAI,CAAC;IAClB,CAAC,CAAC,EAAGK,GAAG,IAAI;MACRT,QAAQ,CAACS,GAAG,CAACC,KAAK,CAAC;IACvB,CAAC;EACL;EAEAG,OAAO,CAACD,EAAE,EAAEZ,QAAQ;IAChB,IAAI,CAACJ,UAAU,CAACM,GAAG,CAAC,GAAG,IAAI,CAACL,IAAI,SAASe,EAAE,kBAAkB,CAAC,CAACT,SAAS,CAAEC,IAAI,IAAI;MAC9EJ,QAAQ,CAACI,IAAI,CAAC;IAClB,CAAC,CAAC,EAAGK,GAAG,IAAI;MACRT,QAAQ,CAACS,GAAG,CAACC,KAAK,CAAC;IACvB,CAAC;EACL;;;mBAvCShB,UAAU;AAAA;;SAAVA,UAAU;EAAAoB,SAAVpB,UAAU;EAAAqB,YAFP;AAAM","names":["HttpClient","environment","CarService","constructor","httpClient","host","fetch","search","callback","path","get","subscribe","data","cars","deposit","car","post","err","error","repairs","id","history","factory","providedIn"],"sourceRoot":"","sources":["D:\\Master\\Projet\\MEAN\\m1p10mean-hery-tahiana-front\\src\\app\\services\\car.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { environment } from \"../../environments/environment\";\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class CarService {\r\n\r\n    private host = environment.host;\r\n    cars = [];\r\n\r\n    constructor(private httpClient: HttpClient) {}\r\n\r\n    fetch(search?, callback?) {\r\n        let path = `${this.host}/cars?user=63c993465fbe667bc3f7eaf6`;\r\n        if(search)\r\n            path += `&search=${search}`;\r\n        this.httpClient.get(path).subscribe((data: any[]) => {\r\n            this.cars = data;\r\n            callback(data)\r\n        })\r\n    }\r\n\r\n    deposit(car: any, callback) {\r\n        this.httpClient.post( `${this.host}/cars/deposit?user=63c993465fbe667bc3f7eaf6`, car).subscribe((data) => {\r\n            callback(data);\r\n        }, (err) => {\r\n            callback(err.error);\r\n        })\r\n    }\r\n\r\n    repairs(id, callback) {\r\n        this.httpClient.get(`${this.host}/cars/${id}/repairs`).subscribe((data) => {\r\n            callback(data);\r\n        }), (err) => {\r\n            callback(err.error);\r\n        }\r\n    }\r\n\r\n    history(id, callback) {\r\n        this.httpClient.get(`${this.host}/cars/${id}/repairs/history`).subscribe((data) => {\r\n            callback(data);\r\n        }), (err) => {\r\n            callback(err.error);\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}